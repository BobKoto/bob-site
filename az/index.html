<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <meta http-equiv="Permissions-Policy" content="interest-cohort=(), user-id=()" />
    <link rel="manifest" href="azmanifest.json" />
    <link rel = "icon" href="icon.png" />
    <title>Hello PWA</title>
</head>
<body>
    <h1>Hello, World! This is a test Progressive Web App</h1>
    <h2>Local Time:  <p id="localTime"></p></h2>
    <br /><br /><br />
   <!-- <button id="installButton">Install App</button> -->

   <h3>If you like you can install this game/page to your device. Then you can use it even if you're not connected to the internet.</h3>
    <button id="installButton" style="display: none;">Ok, Install App</button>    
    <br><br><br>
    <button id="notNowButton" style="display: none;">Not Now App</button>

    <script>
        // Function to update the displayed time
        function updateTime() {
            var currentTime = new Date();
            var hours = currentTime.getHours();
            var minutes = currentTime.getMinutes();
            var seconds = currentTime.getSeconds();
    
            // Add leading zero if needed
            hours = (hours < 10 ? "0" : "") + hours;
            minutes = (minutes < 10 ? "0" : "") + minutes;
            seconds = (seconds < 10 ? "0" : "") + seconds;
    
            // Display the time in the "localTime" element
            document.getElementById("localTime").innerHTML = hours + ":" + minutes + ":" + seconds;
        }
    
        // Call updateTime initially when the page loads or is refreshed
        updateTime();
    </script>


<script>
  let deferredPrompt;

  window.addEventListener('beforeinstallprompt', (event) => {
    // Prevent the default behavior
    event.preventDefault();
    // Stash the event so it can be triggered later.
    deferredPrompt = event;
    // Show the install button or take any other action
    document.getElementById('installButton').style.display = 'block';
  });

  document.getElementById('installButton').addEventListener('click', () => {
    // Show the installation prompt
    if (deferredPrompt) {
      deferredPrompt.prompt();
      // Wait for the user to respond to the prompt
      deferredPrompt.userChoice.then((choiceResult) => {
        if (choiceResult.outcome === 'accepted') {
          console.log('User accepted the install prompt');
          // Hide the install button after successful installation
          document.getElementById('installButton').style.display = 'none';
        } else {
          console.log('User dismissed the install prompt');
        }
        // Reset the deferredPrompt
        deferredPrompt = null;
      });
    }
  });

  // Check if the app is already installed (runs when the page loads)
  if (window.matchMedia('(display-mode: standalone)').matches) {
    document.getElementById('installButton').style.display = 'none';
  }
</script>

    <!--</script>-->

</body>
 <script src="RegisterServiceWorker.js"></script>  
 
</html>


<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Local Time Display</title>
</head>
<body>

<h1>Local Time:</h1>
<p id="localTime"></p>

<script>
    // Function to update the displayed time
    function updateTime() {
        var currentTime = new Date();
        var hours = currentTime.getHours();
        var minutes = currentTime.getMinutes();
        var seconds = currentTime.getSeconds();

        // Add leading zero if needed
        hours = (hours < 10 ? "0" : "") + hours;
        minutes = (minutes < 10 ? "0" : "") + minutes;
        seconds = (seconds < 10 ? "0" : "") + seconds;

        // Display the time in the "localTime" element
        document.getElementById("localTime").innerHTML = hours + ":" + minutes + ":" + seconds;
    }

    // Call updateTime initially when the page loads or is refreshed
    updateTime();
</script>

</body>
</html>
-->